<main class="home-main">
  <div class="hero">
    {{#if isGuest}}
      <div class="guest-warning">
        <p>You are viewing sample data.
          <a href="/login">Log in</a>
          to view and customize your own posts.</p>
      </div>
    {{/if}}
    <h1>{{post.title}}</h1>
    <p><strong>Description:</strong> {{post.description}}</p>
    <p>{{formatDate post.createdAt}}</p>

    {{#if post.file}}
      <p><strong>File:</strong>
        <a href="{{post.file}}" target="_blank">Download</a></p>
    {{/if}}

    {{#if isOwner}}
      <div class="actions">
        <a href="/posts/{{post._id}}/edit" class="btn">Edit</a>
        <form id="delete-form" action="/posts/{{post._id}}?_method=DELETE" method="POST" style="display:inline;">
          <button type="button" id="open-delete-modal" class="btn btn-danger">Delete</button>
        </form>

        <div id="delete-modal" class="modal-overlay hidden">
          <div class="modal-content">
            <h2>Are you sure?</h2>
            <p>This action cannot be undone.</p>
            <div class="modal-actions">
              <button id="confirm-delete" class="btn btn-danger">Yes, delete</button>
              <button id="cancel-delete" class="btn">Cancel</button>
            </div>
          </div>
        </div>

    {{/if}}
  </div>
</main>
<script src="/javascripts/deleteConfirmation.js"></script>
<script src="/javascripts/reloadPage.js"></script>